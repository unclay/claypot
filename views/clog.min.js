(function(win, doc){
	win.claypot  = win.claypot || {}
	var name = win.claypot.name || 'clog';
	var clog = clog || function(){
		this.params = win.claypot || {};
		this.common = this.common || {};
	}
	clog.prototype.pv = function() {
		this.pv     = this.pv || {};
		this.pv.t   = 'pageview'; // 类型
		this.pv.ref = encodeURIComponent(doc.referrer || win.location.href); // 来源
		this.send(this.pv);
	};
	clog.prototype.send = function(query){
		var commonQuery = [];
		for(var i in this.common){
			commonQuery.push( i + '=' + this.common[i] );
		}
		for(var i in query){
			commonQuery.push( i + '=' + query[i] );
		}
		new Image().src = this.params.url + '?' + commonQuery.join('&');
	}
	win[name] = new clog();
	win[name].pv();
	delete win.claypot;
}(window, document));